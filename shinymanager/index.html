<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Authentication Management for Shiny Applications • shinymanager</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Authentication Management for Shiny Applications">
<meta property="og:description" content="Simple and secure authentification mechanism for single Shiny applications.
    Credentials can be stored in an encrypted SQLite database or on your own SQL Database (Postgres, MySQL, ...). 
    Source code of main application is protected until authentication is successful.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">shinymanager</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.0.500</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/SQLite_Admin.html">shinymanager : SQLite Admin</a>
    </li>
  </ul>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/datastorm-open/shinymanager/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div class="section level1">
<div class="page-header"><h1 id="shinymanager-">shinymanager <img src="reference/figures/shinymanager.png" width="200" align="right"><a class="anchor" aria-label="anchor" href="#shinymanager-"></a>
</h1></div>

<blockquote>
<p>Simple and secure authentication mechanism for single ‘Shiny’ applications. Credentials can be stored in an encrypted ‘SQLite’ database or on your own SQL Database (Postgres, MySQL, …). Source code of main application is protected until authentication is successful.</p>
</blockquote>
<p>Live demo:</p>
<ul>
<li>On Shiny-server: <a href="http://shinyapps.dreamrs.fr/shinymanager-demo/" class="external-link uri">http://shinyapps.dreamrs.fr/shinymanager-demo/</a>
</li>
<li>On shinyapps.io : <a href="https://dreamrs.shinyapps.io/shinymanager-demo/" class="external-link uri">https://dreamrs.shinyapps.io/shinymanager-demo/</a>
</li>
</ul>
<p>You can authenticate with:</p>
<ul>
<li>user: <code>shiny</code> / password: <code>shiny</code>
</li>
<li>user: <code>shinymanager</code> / password: <code>shinymanager</code> (Admin)</li>
</ul>
<p>Online documentation : <a href="https://datastorm-open.github.io/shinymanager/" class="uri">https://datastorm-open.github.io/shinymanager/</a></p>
<div class="section level3">
<h3 id="available-language">Available language<a class="anchor" aria-label="anchor" href="#available-language"></a>
</h3>
<ul>
<li>English</li>
<li>Français</li>
<li>Portuguese</li>
<li>Español</li>
<li>Deutsch</li>
<li>Polski</li>
<li>Japanese</li>
<li>Chinese</li>
<li>Indonesian</li>
<li>Greek</li>
</ul>
</div>
<div class="section level3">
<h3 id="password-validity-period">Password validity period<a class="anchor" aria-label="anchor" href="#password-validity-period"></a>
</h3>
<p>Using <code>options("shinymanager.pwd_validity")</code>, you can set password validity period. It defaults to <code>Inf</code>. You can specify for example <code>options("shinymanager.pwd_validity" = 90)</code> if you want to force user changing password each 90 days.</p>
</div>
<div class="section level3">
<h3 id="failure-limit">Failure limit<a class="anchor" aria-label="anchor" href="#failure-limit"></a>
</h3>
<p>Using <code>options("shinymanager.pwd_failure_limit")</code>, you can set password failure limit. It defaults to Inf. You can specify for example <code>options("shinymanager.pwd_failure_limit" = 5)</code> if you want to lock user account after 5 wrong password.</p>
</div>
<div class="section level3">
<h3 id="cross-application">Cross-application<a class="anchor" aria-label="anchor" href="#cross-application"></a>
</h3>
<p>Adding optional <code>applications</code> column in <em>credentials</em> db : the name of the applications to which the user is authorized, separated by a semicolon. The name of the application corresponds to the name of the directory, or can be declared using : options(“shinymanager.application” = “my-app”)</p>
</div>
<div class="section level3">
<h3 id="custom-password-rules">Custom password rules<a class="anchor" aria-label="anchor" href="#custom-password-rules"></a>
</h3>
<pre><code><span><span class="co"># your own rules</span></span>
<span><span class="va">validate_pwd_custom</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">pwd</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/all.html" class="external-link">all</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">vapply</a></span><span class="op">(</span></span>
<span>    X <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"[0-9]+"</span>, <span class="st">"[a-z]+"</span>, <span class="st">"[A-Z]+"</span>, <span class="st">"[[:punct:]]+"</span>, <span class="st">".{8,}"</span><span class="op">)</span>,</span>
<span>    FUN <span class="op">=</span> <span class="va">grepl</span>, x <span class="op">=</span> <span class="va">pwd</span>, FUN.VALUE <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/logical.html" class="external-link">logical</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span>
<span>  <span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span></span>
<span><span class="co"># server.R</span></span>
<span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span><span class="op">)</span> <span class="op">{</span></span>
<span>    </span>
<span>    <span class="va">auth_out</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/secure-app.html">secure_server</a></span><span class="op">(</span>validate_pwd <span class="op">=</span> <span class="va">validate_pwd_custom</span>, <span class="va">...</span><span class="op">)</span></span>
<span>    </span>
<span>    <span class="co"># your classic server logic</span></span>
<span>    </span>
<span><span class="op">}</span></span>
<span>    </span></code></pre>
</div>
<div class="section level3">
<h3 id="relevant-r-documentation">Relevant R documentation<a class="anchor" aria-label="anchor" href="#relevant-r-documentation"></a>
</h3>
<pre><code><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="va"><a href="https://github.com/datastorm-open/shinymanager" class="external-link">shinymanager</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Init and using sqlite database</span></span>
<span><span class="op">?</span><span class="va">create_db</span></span>
<span></span>
<span><span class="co"># Init and using SQL database</span></span>
<span><span class="op">?</span><span class="va">create_sql_db</span></span>
<span></span>
<span></span>
<span><span class="co"># shiny integration</span></span>
<span><span class="op">?</span><span class="va">secure_app</span></span>
<span><span class="op">?</span><span class="va">auth_ui</span> <span class="co"># ui definition</span></span>
<span></span>
<span></span>
<span><span class="co"># change labels / language</span></span>
<span> <span class="op">?</span><span class="va">set_labels</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="news-on-shinymanager-10500">News on shinymanager 1.0.500<a class="anchor" aria-label="anchor" href="#news-on-shinymanager-10500"></a>
</h3>
<ul>
<li>(#154) add indonesian. Thanks @aswansyahputra</li>
<li>(#178) add chinese. Thanks @wtbxsjy</li>
<li>FEAT : SQL features (not only sqlite but Postgres, MySQL, …)</li>
</ul>
</div>
<div class="section level3">
<h3 id="news-on-shinymanager-10410">News on shinymanager 1.0.410<a class="anchor" aria-label="anchor" href="#news-on-shinymanager-10410"></a>
</h3>
<ul>
<li>(#112) : fix bug changing user name. Thanks @StatisMike</li>
<li>fix DT checkbox (rm/add user)</li>
<li>Changed fab button z-index to make it appear above sidebar in shinydashboard/bs4Dash (fix <a href="https://github.com/datastorm-open/shinymanager/issues/123" class="external-link">#123</a>)</li>
<li>can pass validate_pwd_ to secure_server</li>
<li>(#129) add japanese. Thanks @ironwest</li>
<li>(#113) disable download db &amp; logs. Thanks @StatisMike</li>
<li>(#130) update somes icons. Thanks @ismirsehregal</li>
<li>add download user file</li>
<li>add options for validity pwd &amp; update check same / old pwd</li>
<li>add options for locked account</li>
<li>(#144) Switch to Font Awesome 6 icon names. Thanks @ismirsehregal</li>
<li>(#143) add Greek language. Thanks @lefkiospaikousis</li>
</ul>
</div>
<div class="section level3">
<h3 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h3>
<p>Install from CRAN with :</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"shinymanager"</span><span class="op">)</span></span></code></pre></div>
<p>Or install development version from GitHub :</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"datastorm-open/shinymanager"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a>
</h3>
<p>Secure your Shiny app to control who can access it :</p>
<ul>
<li>
<code><a href="reference/secure-app.html">secure_app()</a></code> &amp; <code><a href="reference/module-authentication.html">auth_ui()</a></code> (customization)</li>
<li>
<code><a href="reference/secure-app.html">secure_server()</a></code> &amp; <code><a href="reference/check_credentials.html">check_credentials()</a></code>
</li>
</ul>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># define some basic credentials (on data.frame)</span></span>
<span><span class="va">credentials</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  user <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"shiny"</span>, <span class="st">"shinymanager"</span><span class="op">)</span>, <span class="co"># mandatory</span></span>
<span>  password <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"azerty"</span>, <span class="st">"12345"</span><span class="op">)</span>, <span class="co"># mandatory</span></span>
<span>  start <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"2019-04-15"</span><span class="op">)</span>, <span class="co"># optinal (all others)</span></span>
<span>  expire <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">NA</span>, <span class="st">"2019-12-31"</span><span class="op">)</span>,</span>
<span>  admin <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">FALSE</span>, <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>  comment <span class="op">=</span> <span class="st">"Simple and secure authentification mechanism </span></span>
<span><span class="st">  for single ‘Shiny’ applications."</span>,</span>
<span>  stringsAsFactors <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://shiny.rstudio.com/" class="external-link">shiny</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/datastorm-open/shinymanager" class="external-link">shinymanager</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/fluidPage.html" class="external-link">fluidPage</a></span><span class="op">(</span></span>
<span>  <span class="va">tags</span><span class="op">$</span><span class="fu">h2</span><span class="op">(</span><span class="st">"My secure application"</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/textOutput.html" class="external-link">verbatimTextOutput</a></span><span class="op">(</span><span class="st">"auth_output"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Wrap your UI with secure_app</span></span>
<span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/secure-app.html">secure_app</a></span><span class="op">(</span><span class="va">ui</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span><span class="op">)</span> <span class="op">{</span></span>
<span>  </span>
<span>  <span class="co"># call the server part</span></span>
<span>  <span class="co"># check_credentials returns a function to authenticate users</span></span>
<span>  <span class="va">res_auth</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/secure-app.html">secure_server</a></span><span class="op">(</span></span>
<span>    check_credentials <span class="op">=</span> <span class="fu"><a href="reference/check_credentials.html">check_credentials</a></span><span class="op">(</span><span class="va">credentials</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span>  </span>
<span>  <span class="va">output</span><span class="op">$</span><span class="va">auth_output</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/renderPrint.html" class="external-link">renderPrint</a></span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/reactiveValuesToList.html" class="external-link">reactiveValuesToList</a></span><span class="op">(</span><span class="va">res_auth</span><span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="co"># your classic server logic</span></span>
<span>  </span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/shinyApp.html" class="external-link">shinyApp</a></span><span class="op">(</span><span class="va">ui</span>, <span class="va">server</span><span class="op">)</span></span></code></pre></div>
<p>Starting page of the application will be :</p>
<p><img src="reference/figures/shinymanager-login.png"></p>
<p>Once logged, the application will be launched and a button added to navigate between the app and the admin panel (SQL credentials only and if user is authorized to access it), and to logout from the application :</p>
<p><img src="reference/figures/shinymanager-info-nav.png"></p>
</div>
<div class="section level3">
<h3 id="secure-sqlite-database">Secure Sqlite database<a class="anchor" aria-label="anchor" href="#secure-sqlite-database"></a>
</h3>
<p>Store your credentials data in Sqlite database protected with a symmetric AES encryption from <code>openssl</code>, and password hashing using <code>scrypt</code> :</p>
<ul>
<li><code><a href="reference/create_db.html">?create_db</a></code></li>
</ul>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Init DB using credentials data</span></span>
<span><span class="va">credentials</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  user <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"shiny"</span>, <span class="st">"shinymanager"</span><span class="op">)</span>,</span>
<span>  password <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"azerty"</span>, <span class="st">"12345"</span><span class="op">)</span>,</span>
<span>  <span class="co"># password will automatically be hashed</span></span>
<span>  admin <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">FALSE</span>, <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>  stringsAsFactors <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># you can use keyring package to set database key</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-lib.github.io/keyring/index.html" class="external-link">keyring</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/keyring/man/key_get.html" class="external-link">key_set</a></span><span class="op">(</span><span class="st">"R-shinymanager-key"</span>, <span class="st">"obiwankenobi"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Init the database</span></span>
<span><span class="fu"><a href="reference/create_db.html">create_db</a></span><span class="op">(</span></span>
<span>  credentials_data <span class="op">=</span> <span class="va">credentials</span>,</span>
<span>  sqlite_path <span class="op">=</span> <span class="st">"path/to/database.sqlite"</span>, <span class="co"># will be created</span></span>
<span>  passphrase <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/keyring/man/key_get.html" class="external-link">key_get</a></span><span class="op">(</span><span class="st">"R-shinymanager-key"</span>, <span class="st">"obiwankenobi"</span><span class="op">)</span></span>
<span>  <span class="co"># passphrase = "passphrase_wihtout_keyring"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Wrap your UI with secure_app, enabled admin mode or not</span></span>
<span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/secure-app.html">secure_app</a></span><span class="op">(</span><span class="va">ui</span>, enable_admin <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span><span class="op">)</span> <span class="op">{</span></span>
<span>  </span>
<span>  <span class="co"># check_credentials directly on sqlite db</span></span>
<span>  <span class="va">res_auth</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/secure-app.html">secure_server</a></span><span class="op">(</span></span>
<span>    check_credentials <span class="op">=</span> <span class="fu"><a href="reference/check_credentials.html">check_credentials</a></span><span class="op">(</span></span>
<span>        <span class="st">"path/to/database.sqlite"</span>,</span>
<span>        passphrase <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/keyring/man/key_get.html" class="external-link">key_get</a></span><span class="op">(</span><span class="st">"R-shinymanager-key"</span>, <span class="st">"obiwankenobi"</span><span class="op">)</span></span>
<span>        <span class="co"># passphrase = "passphrase_wihtout_keyring"</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span>  </span>
<span>  <span class="va">output</span><span class="op">$</span><span class="va">auth_output</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/renderPrint.html" class="external-link">renderPrint</a></span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/reactiveValuesToList.html" class="external-link">reactiveValuesToList</a></span><span class="op">(</span><span class="va">res_auth</span><span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="co"># your classic server logic</span></span>
<span>  <span class="va">...</span></span>
<span><span class="op">}</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="use-your-own-sql-database">Use your own SQL database<a class="anchor" aria-label="anchor" href="#use-your-own-sql-database"></a>
</h3>
<p>Store your credentials data in your SQL database using the <code>DBI</code> interface (and always password hashing using <code>scrypt</code>) :</p>
<ul>
<li><code><a href="reference/create_sql_db.html">?create_sql_db</a></code></li>
</ul>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://shiny.rstudio.com/" class="external-link">shiny</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/datastorm-open/shinymanager" class="external-link">shinymanager</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co">#### init the SQL Database</span></span>
<span><span class="co"># first edit the .yml configuration file</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"sql_config/pg_template.yml"</span>, package <span class="op">=</span> <span class="st">"shinymanager"</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="co"># Init Credentials data</span></span>
<span><span class="va">credentials</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  user <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"shiny"</span>, <span class="st">"shinymanager"</span><span class="op">)</span>,</span>
<span>  password <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"azerty"</span>, <span class="st">"12345"</span><span class="op">)</span>, <span class="co"># password will automatically be hashed</span></span>
<span>  stringsAsFactors <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create SQL database</span></span>
<span><span class="fu">create_db_sql</span><span class="op">(</span></span>
<span>  credentials_data <span class="op">=</span> <span class="va">credentials</span>,</span>
<span>  config_path <span class="op">=</span> <span class="st">"path/to/your_sql_configuration.yml"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co">### Use in shiny</span></span>
<span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/fluidPage.html" class="external-link">fluidPage</a></span><span class="op">(</span></span>
<span>  <span class="va">tags</span><span class="op">$</span><span class="fu">h2</span><span class="op">(</span><span class="st">"My secure application"</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/textOutput.html" class="external-link">verbatimTextOutput</a></span><span class="op">(</span><span class="st">"auth_output"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Wrap your UI with secure_app</span></span>
<span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/secure-app.html">secure_app</a></span><span class="op">(</span><span class="va">ui</span>, choose_language <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span><span class="op">)</span> <span class="op">{</span></span>
<span></span>
<span> <span class="co"># call the server part</span></span>
<span> <span class="co"># check_credentials returns a function to authenticate users</span></span>
<span> <span class="va">res_auth</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/secure-app.html">secure_server</a></span><span class="op">(</span></span>
<span>   check_credentials <span class="op">=</span> <span class="fu"><a href="reference/check_credentials.html">check_credentials</a></span><span class="op">(</span>db <span class="op">=</span> <span class="st">"path/to/your_sql_configuration.yml"</span><span class="op">)</span></span>
<span> <span class="op">)</span></span>
<span></span>
<span> <span class="co"># your classic server logic</span></span>
<span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/shinyApp.html" class="external-link">shinyApp</a></span><span class="op">(</span><span class="va">ui</span>, <span class="va">server</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="admin-mode">Admin mode<a class="anchor" aria-label="anchor" href="#admin-mode"></a>
</h3>
<p>Using SQL/Sqlite database protected, an admin mode is available to manage access to the application, features included are</p>
<ul>
<li>manage users account : add, modify and delete users</li>
<li>ask the user to change his password</li>
<li>see logs about application usage</li>
</ul>
<p><img src="reference/figures/shinymanager-pwd.png"><img src="reference/figures/shinymanager-admin.png"><img src="reference/figures/shinymanager-logs.png"></p>
</div>
<div class="section level3">
<h3 id="use-your-own-function-">Use your own function ?<a class="anchor" aria-label="anchor" href="#use-your-own-function-"></a>
</h3>
<p>You can also use your own authentification function with <code>check_credentials</code>, for example doiing a control to your intern database. <code>check_credentials</code> must be a function with two arguments <code>user</code> &amp; <code>password</code>, returning a least with at least <code>result</code> (<code>TRUE</code> to authorize acces, or <code>FALSE</code>) and <code>user_info</code> (all you want to retrieve from the user in the app) :</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(RPostgreSQL)</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(shiny)</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(shinymanager)</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(DBI)</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(glue)</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>dbname <span class="ot">=</span> <span class="st">"*****"</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>host <span class="ot">=</span> <span class="st">"localhost"</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>port <span class="ot">=</span> <span class="er">*****</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>user <span class="ot">=</span> <span class="st">"*****"</span></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>password <span class="ot">=</span> <span class="st">"******"</span></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>con <span class="ot">&lt;-</span> <span class="fu">dbConnect</span>(<span class="fu">dbDriver</span>(<span class="st">"PostgreSQL"</span>), <span class="at">dbname =</span> dbname , <span class="at">host =</span> host, <span class="at">port =</span> port ,</span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>                 <span class="at">user =</span> user, <span class="at">password =</span> password )</span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>DBI<span class="sc">::</span><span class="fu">dbWriteTable</span>(con, <span class="st">"my_table"</span>, <span class="fu">data.frame</span>(</span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a>  <span class="at">user =</span> <span class="fu">c</span>(<span class="st">"test"</span>),</span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a>  <span class="at">password =</span> <span class="fu">c</span>(<span class="st">"123"</span>),</span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a>  <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span></span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a>))</span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true" tabindex="-1"></a><span class="co"># or a config .yml file or others arguments</span></span>
<span id="cb8-24"><a href="#cb8-24" aria-hidden="true" tabindex="-1"></a>my_custom_check_creds <span class="ot">&lt;-</span> <span class="cf">function</span>(dbname, host, port, db_user, db_password) {</span>
<span id="cb8-25"><a href="#cb8-25" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb8-26"><a href="#cb8-26" aria-hidden="true" tabindex="-1"></a> <span class="co"># finally one function of user and password</span></span>
<span id="cb8-27"><a href="#cb8-27" aria-hidden="true" tabindex="-1"></a>  <span class="cf">function</span>(user, password) {</span>
<span id="cb8-28"><a href="#cb8-28" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb8-29"><a href="#cb8-29" aria-hidden="true" tabindex="-1"></a>    con <span class="ot">&lt;-</span> <span class="fu">dbConnect</span>(<span class="fu">dbDriver</span>(<span class="st">"PostgreSQL"</span>), <span class="at">dbname =</span> dbname, </span>
<span id="cb8-30"><a href="#cb8-30" aria-hidden="true" tabindex="-1"></a>                     <span class="at">host =</span> host, <span class="at">port =</span> port,</span>
<span id="cb8-31"><a href="#cb8-31" aria-hidden="true" tabindex="-1"></a>                     <span class="at">user =</span> db_user, <span class="at">password =</span> db_password)</span>
<span id="cb8-32"><a href="#cb8-32" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb8-33"><a href="#cb8-33" aria-hidden="true" tabindex="-1"></a>    <span class="fu">on.exit</span>(<span class="fu">dbDisconnect</span>(con))</span>
<span id="cb8-34"><a href="#cb8-34" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb8-35"><a href="#cb8-35" aria-hidden="true" tabindex="-1"></a>    req <span class="ot">&lt;-</span> <span class="fu">glue_sql</span>(<span class="st">"SELECT * FROM my_table WHERE </span><span class="sc">\"</span><span class="st">user</span><span class="sc">\"</span><span class="st"> = ({user}) AND </span><span class="sc">\"</span><span class="st">password</span><span class="sc">\"</span><span class="st"> = ({password})"</span>, </span>
<span id="cb8-36"><a href="#cb8-36" aria-hidden="true" tabindex="-1"></a>             <span class="at">user =</span> user, <span class="at">password =</span> password, <span class="at">.con =</span> con</span>
<span id="cb8-37"><a href="#cb8-37" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb8-38"><a href="#cb8-38" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb8-39"><a href="#cb8-39" aria-hidden="true" tabindex="-1"></a>    req <span class="ot">&lt;-</span> <span class="fu">dbSendQuery</span>(con, req)</span>
<span id="cb8-40"><a href="#cb8-40" aria-hidden="true" tabindex="-1"></a>    res <span class="ot">&lt;-</span> <span class="fu">dbFetch</span>(req)</span>
<span id="cb8-41"><a href="#cb8-41" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (<span class="fu">nrow</span>(res) <span class="sc">&gt;</span> <span class="dv">0</span>) {</span>
<span id="cb8-42"><a href="#cb8-42" aria-hidden="true" tabindex="-1"></a>      <span class="fu">list</span>(<span class="at">result =</span> <span class="cn">TRUE</span>, <span class="at">user_info =</span> <span class="fu">list</span>(<span class="at">user =</span> user, <span class="at">something =</span> <span class="dv">123</span>))</span>
<span id="cb8-43"><a href="#cb8-43" aria-hidden="true" tabindex="-1"></a>    } <span class="cf">else</span> {</span>
<span id="cb8-44"><a href="#cb8-44" aria-hidden="true" tabindex="-1"></a>      <span class="fu">list</span>(<span class="at">result =</span> <span class="cn">FALSE</span>)</span>
<span id="cb8-45"><a href="#cb8-45" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb8-46"><a href="#cb8-46" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb8-47"><a href="#cb8-47" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb8-48"><a href="#cb8-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-49"><a href="#cb8-49" aria-hidden="true" tabindex="-1"></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="cb8-50"><a href="#cb8-50" aria-hidden="true" tabindex="-1"></a>  tags<span class="sc">$</span><span class="fu">h2</span>(<span class="st">"My secure application"</span>),</span>
<span id="cb8-51"><a href="#cb8-51" aria-hidden="true" tabindex="-1"></a>  <span class="fu">verbatimTextOutput</span>(<span class="st">"auth_output"</span>)</span>
<span id="cb8-52"><a href="#cb8-52" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb8-53"><a href="#cb8-53" aria-hidden="true" tabindex="-1"></a>ui <span class="ot">&lt;-</span> <span class="fu">secure_app</span>(ui)</span>
<span id="cb8-54"><a href="#cb8-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-55"><a href="#cb8-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-56"><a href="#cb8-56" aria-hidden="true" tabindex="-1"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output, session) {</span>
<span id="cb8-57"><a href="#cb8-57" aria-hidden="true" tabindex="-1"></a>  res_auth <span class="ot">&lt;-</span> <span class="fu">secure_server</span>(</span>
<span id="cb8-58"><a href="#cb8-58" aria-hidden="true" tabindex="-1"></a>    <span class="at">check_credentials =</span> <span class="fu">my_custom_check_creds</span>(</span>
<span id="cb8-59"><a href="#cb8-59" aria-hidden="true" tabindex="-1"></a>      <span class="at">dbname =</span> <span class="st">"******"</span>,</span>
<span id="cb8-60"><a href="#cb8-60" aria-hidden="true" tabindex="-1"></a>      <span class="at">host =</span> <span class="st">"*****"</span>,</span>
<span id="cb8-61"><a href="#cb8-61" aria-hidden="true" tabindex="-1"></a>      <span class="at">port =</span> <span class="sc">**</span><span class="er">**</span>,</span>
<span id="cb8-62"><a href="#cb8-62" aria-hidden="true" tabindex="-1"></a>      <span class="at">db_user =</span> <span class="st">"*****"</span>,</span>
<span id="cb8-63"><a href="#cb8-63" aria-hidden="true" tabindex="-1"></a>      <span class="at">db_password =</span> <span class="st">"*******"</span></span>
<span id="cb8-64"><a href="#cb8-64" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb8-65"><a href="#cb8-65" aria-hidden="true" tabindex="-1"></a>  )  </span>
<span id="cb8-66"><a href="#cb8-66" aria-hidden="true" tabindex="-1"></a>  auth_output <span class="ot">&lt;-</span> <span class="fu">reactive</span>({</span>
<span id="cb8-67"><a href="#cb8-67" aria-hidden="true" tabindex="-1"></a>    <span class="fu">reactiveValuesToList</span>(res_auth)</span>
<span id="cb8-68"><a href="#cb8-68" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb8-69"><a href="#cb8-69" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb8-70"><a href="#cb8-70" aria-hidden="true" tabindex="-1"></a>  <span class="co"># access info</span></span>
<span id="cb8-71"><a href="#cb8-71" aria-hidden="true" tabindex="-1"></a>  <span class="fu">observe</span>({</span>
<span id="cb8-72"><a href="#cb8-72" aria-hidden="true" tabindex="-1"></a>    <span class="fu">print</span>(<span class="fu">auth_output</span>())</span>
<span id="cb8-73"><a href="#cb8-73" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb8-74"><a href="#cb8-74" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb8-75"><a href="#cb8-75" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-76"><a href="#cb8-76" aria-hidden="true" tabindex="-1"></a><span class="fu">shinyApp</span>(ui, server)</span></code></pre></div>
</div>
<div class="section level3">
<h3 id="shiny-input">shiny input<a class="anchor" aria-label="anchor" href="#shiny-input"></a>
</h3>
<p>Two inputs are created :</p>
<pre><code><span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/observe.html" class="external-link">observe</a></span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">shinymanager_where</span><span class="op">)</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">shinymanager_language</span><span class="op">)</span></span>
<span><span class="op">}</span><span class="op">)</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="customization">Customization<a class="anchor" aria-label="anchor" href="#customization"></a>
</h3>
<p>You can customize the module (css, image, language, …).</p>
<pre><code><span><span class="op">?</span><span class="va">secure_app</span></span>
<span><span class="op">?</span><span class="va">auth_ui</span></span>
<span><span class="op">?</span><span class="va">set_labels</span></span></code></pre>
<p><img src="reference/figures/custom.png"></p>
</div>
<div class="section level3">
<h3 id="flexdasboard">Flexdasboard<a class="anchor" aria-label="anchor" href="#flexdasboard"></a>
</h3>
<p>It’s possible to use <code>shinymanager</code> authentification on <code>flexdashboard</code> (but not admin console at moment). You can find information on <a href="https://github.com/datastorm-open/shinymanager/issues/51" class="external-link">this discussion</a>. But it’s not a really secure way because user can overpass the authentification using developper console… Prefer use <code>shiny</code> application with <code>secure_app</code> function.</p>
</div>
<div class="section level3">
<h3 id="shinyappsio">shinyapps.io<a class="anchor" aria-label="anchor" href="#shinyappsio"></a>
</h3>
<p>There’s no persistent data storage on <code>shinyapps.io</code>, you can read more here : <a href="https://docs.rstudio.com/shinyapps.io/Storage.html" class="external-link uri">https://docs.rstudio.com/shinyapps.io/Storage.html</a>. So your <strong>sqlite</strong> database is lost when the instance is closed, and the one you’ve pushed when deploying the application will be used. You have to use external database.</p>
</div>
<div class="section level3">
<h3 id="troubleshooting">Troubleshooting<a class="anchor" aria-label="anchor" href="#troubleshooting"></a>
</h3>
<p>The application works fine without <code>shinymanager</code> but not you have trouble using <code>shinymanager</code>.</p>
<p>There is a <em>lag</em> between your <code>ui</code> and the <code>server</code>, since <code>shinymanger</code> hides the <code>ui</code> part until authentication is successful. It is therefore possible that some of `ui element`` (input) are not defined and are NULL. In this case, you’ll see some warning / error message in your R console.</p>
<p>So we recommend to use in all your reactive/observer functions the <code>req</code> instruction to <strong>validate the inputs</strong>.</p>
<p>One more <em>global and brutal</em> solution can be :</p>
<pre><code><span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span><span class="op">)</span> <span class="op">{</span></span>
<span>  </span>
<span>  <span class="va">auth_out</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/secure-app.html">secure_server</a></span><span class="op">(</span><span class="va">....</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/observe.html" class="external-link">observe</a></span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="kw">if</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NULL.html" class="external-link">is.null</a></span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">shinymanager_where</span><span class="op">)</span> <span class="op">||</span> <span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NULL.html" class="external-link">is.null</a></span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">shinymanager_where</span><span class="op">)</span> <span class="op">&amp;&amp;</span> <span class="va">input</span><span class="op">$</span><span class="va">shinymanager_where</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="st">"application"</span><span class="op">)</span><span class="op">)</span><span class="op">{</span></span>
<span>      </span>
<span>      <span class="co"># your server app code</span></span>
<span>    <span class="op">}</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre>
<p>But it’s better to use <code>req</code> solution. More discussion on <a href="https://github.com/datastorm-open/shinymanager/issues/36" class="external-link uri">https://github.com/datastorm-open/shinymanager/issues/36</a></p>
</div>
<div class="section level3">
<h3 id="http-request">HTTP request<a class="anchor" aria-label="anchor" href="#http-request"></a>
</h3>
<p><code>shinymanager</code> use http request and sha256 tokens to grant access to the application, like this the source code is protected without having the need to change your UI or server code.</p>
</div>
<div class="section level3">
<h3 id="about-security">About security<a class="anchor" aria-label="anchor" href="#about-security"></a>
</h3>
<p>The credentials database is secured with a pass phrase and the <a href="https://github.com/jeroen/openssl" class="external-link"><code>openssl</code></a> package. Hashed password using <a href="https://github.com/rstudio/rscrypt" class="external-link"><code>scrypt</code></a>. If you have concern about method we use, please fill an <a href="https://github.com/datastorm-open/shinymanager/issues" class="external-link">issue</a>.</p>
</div>
<div class="section level3">
<h3 id="related-work">Related work<a class="anchor" aria-label="anchor" href="#related-work"></a>
</h3>
<p>Package <a href="https://github.com/PaulC91/shinyauthr" class="external-link"><code>shinyauthr</code></a> provides a nice shiny module to add an authentication layer to your shiny apps.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=shinymanager" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/datastorm-open/shinymanager/" class="external-link">Browse source code</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/GPL-3" class="external-link">GPL-3</a></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing shinymanager</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Benoit Thieurmel <br><small class="roles"> Author, maintainer </small>  </li>
<li>Victor Perrier <br><small class="roles"> Author </small>  </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://travis-ci.org/datastorm-open/shinymanager" class="external-link"><img src="https://travis-ci.org/datastorm-open/shinymanager.svg?branch=master" alt="Travis build status"></a></li>
<li><a href="https://CRAN.R-project.org/package=shinymanager" class="external-link"><img src="http://www.r-pkg.org/badges/version/shinymanager" alt="version"></a></li>
<li><a href="https://CRAN.R-project.org/package=shinymanager" class="external-link"><img src="http://cranlogs.r-pkg.org/badges/shinymanager" alt="cranlogs"></a></li>
<li><a href="https://cranchecks.info/pkgs/shinymanager" class="external-link"><img src="https://cranchecks.info/badges/worst/shinymanager" alt="cran checks"></a></li>
<li><a href="https://www.repostatus.org/#active" class="external-link"><img src="https://www.repostatus.org/badges/latest/active.svg" alt="Project Status: Active – The project has reached a stable, usable state and is being actively developed."></a></li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by Benoit Thieurmel, Victor Perrier.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
